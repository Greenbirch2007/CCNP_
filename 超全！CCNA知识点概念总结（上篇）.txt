超全！CCNA知识点概念总结（上篇）



第一部分：OSI 参考模型

Open System Interconnection ，是一个开放式的七层模型，上三层称之为高层，下四层称之为低层。它只是一个参考模型，用来将互联网络进行层次划分， 方便各厂商根据各层标准制定设备。

Application Layer ：应用层， OSI 模型中的第七层，主要负责确定通信伙伴，为特性的应用程序提供功能。典型的 TCP/IP 应用包括：文件传输协议 FTP、简单文件传输协议 TFTP 、简单邮件传输协议 SMTP 、超文本传输协议 HTTP 、自举协议 BOOTP 、动态主机配置协议DHCP。


Presencation Layer ：表示层，OSI 模型中第六层，主要负责完成各种不同的数据、视频、语音、图像的格式与传输格式之间的相互转换来提供通信服务。该层的标准有文本—— ACS 、图像—— TIFF 、 JPEG、GIF 、PICT 、声音—— MIDI 等。

Session Layer：会话层， OSI 模型中第五层，主要负责在应用程序之间建立、管理和终止设备或主机之间的会话。该层的协议有：网络文件系统 NFS、结构化查询语言 SQL、远程过程调用 RPC、X Windows 系统、 Apptalk 会话协议 ASP、 DNA 会话控制协议 SCP。

Transport Layer ：传输层，OSI 模型中第四层，数据格式为段，主要负责端到端的可靠与不可靠的数据传输，包括流量控制和错误恢复。TCP 提供可靠地数据传输， UDP 提供不可靠地数据传输，像 TFTP、 SNMP 、 NFS、 DNS、 RIP 都是用 UDP 协议提供不可靠传输。

Network Layer：网络层，OSI 模型中第三层，数据格式为分组 (包 )，主要负责两个端系统之间提供连通性和路径选择，两端系统可能处于不同网络上。网络层协议包括：Internet 协议IP、Novell 的互联网分组交换 IPX 、地址解析协议 ARP 、反向地址解析协议 RARP 、Internet控制消息协议 ICMP 。

Data-link Layer ：数据链路层， OSI 模型中第二层，数据格式为帧，主要负责在物理线路上提供可靠地数据传输，它主要关心物理寻址、网络拓扑结构、线路规范、错误通知、有序帧传输和流量控制。数据链路层协议包括：以太网、 IEEE 802.3、令牌环、 IEEE 802.5、HDLC 、PPP。

Physical Layer：物理层，OSI 模型中的最底层，数据格式为比特，通过在终端之间激活、保持、释放物理链路，该层定义了电气、机械、程序和功能规范。该层标准包括：10BaseT、V.35、 RS-232。

第二部分：桥接和交换

传统的集线器共享一个冲突域， 使用带有冲突检测的载波监听多路访问机制， 但仍然造成带低带宽、 高冲突的网络环境。为了减少网络拥堵的一个方法就是尽可能的使用交换机来替代集线器。 

交换机每个物理端口都是一个冲突域， 但他们所有端口处于一个广播域， 交换机每个端口独享专有带宽，进而大大增加了其转发速度。

全双工 /半双工

全双工：在同一时刻既可以发送也可以接收数据，全双工方式使六安路吞吐量增加一倍， 在一条全双工的连接上不会发生冲突，因为冲突与内只有两台设备。

半双工：在同一时刻要么发送、要么接收数据，一旦出现即发送又接收，就会产生冲突。连接到集线器的主机必须采用半双工的工作方式，因为他们必须能够检测何时发生了冲突。

两种主要的交换方式：贯穿式，储存转发式

储存转发式交换在交换机内讲一个以太网帧从另外一个端口发送出去之前复制全部的帧到缓冲区，把真校验序列 FCS 与自己的计算结果进行比对，如果匹配再转发出去，否则丢弃。

贯穿式分为快速转发方式和无碎片转发方式， 快速转发方式在读取到帧的目的地址后就查找MAC 表，立即从适当的端口转发出去。无碎片转发方式比快速转发慢，比储存转发快，它在接收帧的 64 字节口再开始转发， 因为冲突帧应该在帧的前 64 字节， 它在转发前去掉了这部分冲突。思科交换机默认的转发方式就是无碎片式。

Vlan

Vlan 可以分离广播域，可以把一个 vlan 视作一个子网， vlan 技术的引入，抑制的广播风暴的产生，它将若干子网在逻辑上隔离开，避开不必要的 ARP 请求，以减少网络带宽和主机处理周期，总之 vlan 技术的应用，使我们组网更加灵活、安全。

Vlan 干道协议：ISL、 802.1Q

ISL ：思科专有的交换机间链路协议， ISL 将一个新的 ISL 头标封装在数据帧的头部802.1Q：IEEE 的标准方法，它在以太网帧中插入标签

Vlan 中继协议：VTP

Vtp 的产生主要为了解决在 vlan 交换式网络运行中的潜在问题，减少 vlan 配置工作量。

VTP 三种模式：server、 client 、 transparent。VTP 分为两个版本，版本 2 支持令牌环。

服务器模式：发送、转发VTP通告，与其他交换机同步vlan 信息，可以增加、删除、修改vlan 信息，vlan配置保存在NVRAM 。

客户模式：发送、转发 VTP 通告， 与其他交换机同步 vlan 信息， 不能创建、 修改、 删除 vlan信息，配置不保存到 NVRAM 。

透明模式：只转发 VTP 通告，不与其他交换机同步 vlan 信息，可以创建、删除、修改 vlan信息， vlan 配置保存到 NVRAM 。

STP：为了实现交换网络的冗余设计，防止环路的产生， STP 协议由此运作开来 。通过在逻辑上阻塞某些端口，构建一个无环路网络。

STP 的运行需要选举一个根桥，根桥上所有端口为指定端口，非根桥会选举一个根端口，该端口是到达根桥的最低成本路径。STP根桥的选举考虑BID：优先级和网桥的 MAC 地址，有着最低 BID 的网桥会被选举成为根桥。

STP的端口状态：LSN 、 LRN 、FWD 、BLK 、Disabled。非根桥根端口的选举根据路径成本来判定，具有成本最低的端口将被选举程根端口。

RSTP：快速生成树协议

RSTP 的端口类型和 STP 不同， 分为：根端口、 指定端口、 替换端口、 备份端口、 禁止端口。



第三部分：被路由协议IP

常用 IP 地址分为三大类：A、B、C。其中A类地址有126个网络数，每个网络能容纳 16777216个主机，B类地址有16384个网络，每个网络能容纳65535个主机，C 类地址有2097152个网络，每个网络能容纳 254 个主机。

私有地址

A：10.0.0.0-10.255.255.255 /8
B：172.16.0.0-172.16.255.255 /16
C：192.168.0.0-192.168.255.255 /24

子网划分

为了创建子网结构， 必须通过从主机位进行借出比特， 将主机比特位重新分配成网络比特位。

解决某个数学问题的方法通常不止一种， 划分子网的方法也不例外， 本篇介绍一种方法仅供参考。

首先我们要确定你所设置的新的子网掩码将产生多少个子网？应该是 2 的 X 次方 -2，其中 X表示掩码的二进制位数，切记，是掩码的二进制的位数！-2 是去掉全 0 和全1。

其次，我们要知道每个子网有多少个主机？应该是 2 的 X 次方 -2，其中 X 代表主机的 2 进制位数， -2 是去掉全 0 全 1。

然后确定有效子网间隔是什么？256-新的 10 进制子网掩码、每个子网的广播地址，下一个子网号 -1、每个子网的有效主机地址，子网号 +1 到下一个子网号 -2综合一个例子，假如需要将 192.168.1.0/24 原 C 类网络划分成 30 个子网。

首先确定向主机位借出多少比特位才够 30 个子网， 发现 2 的 5 次方 -2=30 ，那么就确定了需要向主机位借出 5个比特位，新的子网掩码就是 255.255.255.248 ，每个子网的主机数 2的3(8-5)次方 -2=6 ，有效子网间隔 256-248=8 那么 192.168.1.8 就是有效地子网间隔。

十进制、十六进制和二进制之间的转换

表 1 ：2 字节 /16 比特数
215 214 213 212 211 ⋯⋯⋯⋯⋯⋯⋯⋯⋯⋯⋯⋯⋯⋯⋯⋯⋯ 20
32678 16384 8192 4096 2048 ⋯⋯⋯⋯⋯⋯⋯⋯⋯ 1

如上所述 ,最常见的比特分组时 8bit ，构成 1 个字节。但是有些时候，一个字节能容纳的最大值 255 不够用，这时，必须结合多个字节，可以用一个 16bit 、 24bit 而不是 3 个 8bit 数。

比如将一个十进制数 6783 转换成二进制，由于采用一个 8 位组不够用，那么我们就采用一个 16 位组， 根据表格可以得出 6783=0001101001111111。二进制转换十进制正好相反， 将二进制数放入表中对应的位相加得出 10 进制数。

ICMP

因特网消息控制协议，是TCP/IP 的一个组件， 解决了 IP 在发送数据中发生故障不进行通知的局限性， ICMP不提供错误纠正，它唯一能错的只是向工作站报告错误。